<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using the RUB plotting functions • RUBer</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using the RUB plotting functions">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RUBer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/reference_docx.html">Formatting for the reference docx document</a>
    </li>
    <li>
      <a href="../articles/RUB_colors.html">Using RUB colors</a>
    </li>
    <li>
      <a href="../articles/RUB_plot.html">Using the RUB plotting functions</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/RichardMeyer-Eppler/RUBer">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Using the RUB plotting functions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/RichardMeyer-Eppler/RUBer/blob/master/vignettes/RUB_plot.Rmd"><code>vignettes/RUB_plot.Rmd</code></a></small>
      <div class="hidden name"><code>RUB_plot.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(RUBer)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(extrafont)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt; Registering fonts with R</span></a></code></pre></div>
<p>The plotting functions in RUBer do not in any way extend the functionality provided by <code>ggplot2</code> itself. By preconfiguring a lot of the paramters, though, RUBer’s plotting functions are meant to be more accessible and easier to use. One of the inspirations for this was the <code>bbplot</code> package used by the BBC News data team.</p>
<div id="figure-types" class="section level1">
<h1 class="hasAnchor">
<a href="#figure-types" class="anchor"></a>Figure Types</h1>
<p>Available figure types:</p>
<ol style="list-style-type: decimal">
<li>Vertical stacked bar charts</li>
<li>Vertical stacked bar charts scaled to 100%</li>
<li>Horizontal stacked bar charts scaled to 100%</li>
<li>Line Chart</li>
<li>A combination of vertical stacked bar charts (type 1) with line charts (type 4)</li>
</ol>
<div id="figure-type-1---vertical-stacked-bar-charts" class="section level2">
<h2 class="hasAnchor">
<a href="#figure-type-1---vertical-stacked-bar-charts" class="anchor"></a>Figure Type 1 - Vertical stacked bar charts</h2>
<p>For plotting vertical stacked bar charts, three variable names are mandatory: <code>x_var</code> for the x-coordinate, <code>y_var</code> for the y-coordinate and <code>fill_var</code> for the fill variable, which determines the groups to be stacked. Consider this example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># Create test values for all three mandatory variables (x_var, y_var, fill_var).</span></a>
<a class="sourceLine" id="cb2-2" title="2">df_t1_ex1 &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span>(</a>
<a class="sourceLine" id="cb2-3" title="3">   <span class="op">~</span>term, <span class="op">~</span>students, <span class="op">~</span>degree,</a>
<a class="sourceLine" id="cb2-4" title="4">   <span class="st">"Spring '13"</span>, <span class="dv">120</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb2-5" title="5">   <span class="st">"Spring '14"</span>, <span class="dv">105</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb2-6" title="6">   <span class="st">"Spring '15"</span>, <span class="dv">124</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb2-7" title="7">   <span class="st">"Spring '16"</span>, <span class="dv">114</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb2-8" title="8">   <span class="st">"Spring '17"</span>, <span class="dv">122</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb2-9" title="9">   <span class="st">"Spring '13"</span>, <span class="dv">121</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb2-10" title="10">   <span class="st">"Spring '14"</span>, <span class="dv">129</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb2-11" title="11">   <span class="st">"Spring '15"</span>, <span class="dv">122</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb2-12" title="12">   <span class="st">"Spring '16"</span>, <span class="dv">168</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb2-13" title="13">   <span class="st">"Spring '17"</span>, <span class="dv">7</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb2-14" title="14">)</a>
<a class="sourceLine" id="cb2-15" title="15"></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="co"># The data source is df_t1_ex1, x_var is mapped to term, y_var to students, and</span></a>
<a class="sourceLine" id="cb2-17" title="17"><span class="co"># the fill_var to degree.</span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="kw"><a href="../reference/rub_plot_type_1.html">rub_plot_type_1</a></span>(</a>
<a class="sourceLine" id="cb2-19" title="19">  <span class="dt">df =</span> df_t1_ex1,</a>
<a class="sourceLine" id="cb2-20" title="20">  <span class="dt">x_var =</span> term,</a>
<a class="sourceLine" id="cb2-21" title="21">  <span class="dt">y_var =</span> students,</a>
<a class="sourceLine" id="cb2-22" title="22">  <span class="dt">fill_var =</span> degree</a>
<a class="sourceLine" id="cb2-23" title="23">)</a></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-1-example-1-1.png" width="700"></p>
<p>Next a more complex example, in which we additionally provide the label for the y-axis, <code>y_label</code> and a caption indicating the source of the data, <code>caption</code>. By default, the caption has the prefix “<em>Quelle:</em>”, which we change from German to English using the parameter <code>caption_preifx</code>. We also want to suppress the value label for Master students in the spring term 2017, because the value is so small. By default, labels for values accounting for less than 4% of the total value are suppressed. In this case, the seven students account for 7/(7+122) = 5.4% of the total value, so we increase the value for <code>filter_cutoff</code> from the default of 0.04 to 0.06.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># Create test values for all three mandatory variables (x_var, y_var, fill_var).</span></a>
<a class="sourceLine" id="cb3-2" title="2">df_t1_ex2 &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span>(</a>
<a class="sourceLine" id="cb3-3" title="3">   <span class="op">~</span>term, <span class="op">~</span>students, <span class="op">~</span>degree,</a>
<a class="sourceLine" id="cb3-4" title="4">   <span class="st">"Spring '13"</span>, <span class="dv">120</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb3-5" title="5">   <span class="st">"Spring '14"</span>, <span class="dv">105</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb3-6" title="6">   <span class="st">"Spring '15"</span>, <span class="dv">124</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb3-7" title="7">   <span class="st">"Spring '16"</span>, <span class="dv">114</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb3-8" title="8">   <span class="st">"Spring '17"</span>, <span class="dv">122</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb3-9" title="9">   <span class="st">"Spring '13"</span>, <span class="dv">121</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb3-10" title="10">   <span class="st">"Spring '14"</span>, <span class="dv">129</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb3-11" title="11">   <span class="st">"Spring '15"</span>, <span class="dv">122</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb3-12" title="12">   <span class="st">"Spring '16"</span>, <span class="dv">168</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb3-13" title="13">   <span class="st">"Spring '17"</span>, <span class="dv">7</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb3-14" title="14">)</a>
<a class="sourceLine" id="cb3-15" title="15"></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="co"># Set values for parameters setting the y-axis title, captioning the source data</span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="co"># and filtering small value labels (all labels below 6% of the stacked total).</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="kw"><a href="../reference/rub_plot_type_1.html">rub_plot_type_1</a></span>(</a>
<a class="sourceLine" id="cb3-19" title="19">  <span class="dt">df =</span> df_t1_ex2,</a>
<a class="sourceLine" id="cb3-20" title="20">  <span class="dt">x_var =</span> term,</a>
<a class="sourceLine" id="cb3-21" title="21">  <span class="dt">y_var =</span> students,</a>
<a class="sourceLine" id="cb3-22" title="22">  <span class="dt">fill_var =</span> degree,</a>
<a class="sourceLine" id="cb3-23" title="23">  <span class="dt">y_label =</span> <span class="st">"Students (1st degree program, 1st and 2nd field of study)"</span>,</a>
<a class="sourceLine" id="cb3-24" title="24">  <span class="dt">caption =</span> <span class="st">"Information management system of the University of Bochum"</span>,</a>
<a class="sourceLine" id="cb3-25" title="25">  <span class="dt">caption_prefix =</span> <span class="st">"Source:"</span>,</a>
<a class="sourceLine" id="cb3-26" title="26">  <span class="dt">filter_cutoff =</span> <span class="fl">0.06</span></a>
<a class="sourceLine" id="cb3-27" title="27">)</a></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-1-example-2-1.png" width="700"></p>
<p>The third example adds even more parameters. You can facet the figure by a discrete variable, <code>facet_var</code>, in order to make direct comparisons between groups, e.g. different departments. You can also change a figure’s default color with <code>color</code> and the default font with <code>font</code> (see the documentation for <code><a href="../reference/rub_style.html">RUBer::rub_style()</a></code>).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># Create test values for all three mandatory variables (x_var, y_var, fill_var)</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="co"># and the optional facet variable (facet_var).</span></a>
<a class="sourceLine" id="cb4-3" title="3">df_t1_ex3 &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span>(</a>
<a class="sourceLine" id="cb4-4" title="4">   <span class="op">~</span>term, <span class="op">~</span>students, <span class="op">~</span>degree, <span class="op">~</span>department, </a>
<a class="sourceLine" id="cb4-5" title="5">   <span class="st">"Spring '13"</span>, <span class="dv">120</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,</a>
<a class="sourceLine" id="cb4-6" title="6">   <span class="st">"Spring '14"</span>, <span class="dv">105</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,</a>
<a class="sourceLine" id="cb4-7" title="7">   <span class="st">"Spring '15"</span>, <span class="dv">124</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,</a>
<a class="sourceLine" id="cb4-8" title="8">   <span class="st">"Spring '16"</span>, <span class="dv">114</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,</a>
<a class="sourceLine" id="cb4-9" title="9">   <span class="st">"Spring '17"</span>, <span class="dv">122</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,</a>
<a class="sourceLine" id="cb4-10" title="10">   <span class="st">"Spring '13"</span>, <span class="dv">121</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,</a>
<a class="sourceLine" id="cb4-11" title="11">   <span class="st">"Spring '14"</span>, <span class="dv">129</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,</a>
<a class="sourceLine" id="cb4-12" title="12">   <span class="st">"Spring '15"</span>, <span class="dv">122</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,</a>
<a class="sourceLine" id="cb4-13" title="13">   <span class="st">"Spring '16"</span>, <span class="dv">168</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,</a>
<a class="sourceLine" id="cb4-14" title="14">   <span class="st">"Spring '17"</span>, <span class="dv">7</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,</a>
<a class="sourceLine" id="cb4-15" title="15">   <span class="st">"Spring '13"</span>, <span class="dv">120</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,</a>
<a class="sourceLine" id="cb4-16" title="16">   <span class="st">"Spring '14"</span>, <span class="dv">105</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,</a>
<a class="sourceLine" id="cb4-17" title="17">   <span class="st">"Spring '15"</span>, <span class="dv">124</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,</a>
<a class="sourceLine" id="cb4-18" title="18">   <span class="st">"Spring '16"</span>, <span class="dv">114</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,</a>
<a class="sourceLine" id="cb4-19" title="19">   <span class="st">"Spring '17"</span>, <span class="dv">122</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,</a>
<a class="sourceLine" id="cb4-20" title="20">   <span class="st">"Spring '13"</span>, <span class="dv">121</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,</a>
<a class="sourceLine" id="cb4-21" title="21">   <span class="st">"Spring '14"</span>, <span class="dv">129</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,</a>
<a class="sourceLine" id="cb4-22" title="22">   <span class="st">"Spring '15"</span>, <span class="dv">122</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,</a>
<a class="sourceLine" id="cb4-23" title="23">   <span class="st">"Spring '16"</span>, <span class="dv">168</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,</a>
<a class="sourceLine" id="cb4-24" title="24">   <span class="st">"Spring '17"</span>, <span class="dv">7</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Philosophy"</span></a>
<a class="sourceLine" id="cb4-25" title="25">)</a>
<a class="sourceLine" id="cb4-26" title="26"></a>
<a class="sourceLine" id="cb4-27" title="27"><span class="co"># Facet by department, which effectively leads to two plots in one figure. The</span></a>
<a class="sourceLine" id="cb4-28" title="28"><span class="co"># default font is changed to RUB Scala TZ and the main color is changed from</span></a>
<a class="sourceLine" id="cb4-29" title="29"><span class="co"># RUB blue to dark red.</span></a>
<a class="sourceLine" id="cb4-30" title="30"><span class="kw"><a href="../reference/rub_plot_type_1.html">rub_plot_type_1</a></span>(</a>
<a class="sourceLine" id="cb4-31" title="31">  <span class="dt">df =</span> df_t1_ex3,</a>
<a class="sourceLine" id="cb4-32" title="32">  <span class="dt">x_var =</span> term,</a>
<a class="sourceLine" id="cb4-33" title="33">  <span class="dt">y_var =</span> students,</a>
<a class="sourceLine" id="cb4-34" title="34">  <span class="dt">fill_var =</span> degree,</a>
<a class="sourceLine" id="cb4-35" title="35">  <span class="dt">y_label =</span> <span class="st">"Students (1st degree program, 1st and 2nd field of study)"</span>,</a>
<a class="sourceLine" id="cb4-36" title="36">  <span class="dt">caption =</span> <span class="st">"Information management system of the University of Bochum"</span>,</a>
<a class="sourceLine" id="cb4-37" title="37">  <span class="dt">caption_prefix =</span> <span class="st">"Source:"</span>,</a>
<a class="sourceLine" id="cb4-38" title="38">  <span class="dt">filter_cutoff =</span> <span class="fl">0.06</span>,</a>
<a class="sourceLine" id="cb4-39" title="39">  <span class="dt">facet_var =</span> department,</a>
<a class="sourceLine" id="cb4-40" title="40">  <span class="dt">color =</span> RUB_colors[<span class="st">"dark red"</span>],</a>
<a class="sourceLine" id="cb4-41" title="41">  <span class="dt">font =</span> <span class="st">"RUB Scala TZ"</span></a>
<a class="sourceLine" id="cb4-42" title="42">)</a></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-1-example-3-1.png" width="700"></p>
</div>
<div id="figure-type-2---vertical-stacked-bar-charts-scaled-to-100" class="section level2">
<h2 class="hasAnchor">
<a href="#figure-type-2---vertical-stacked-bar-charts-scaled-to-100" class="anchor"></a>Figure Type 2 - Vertical stacked bar charts scaled to 100%</h2>
<p>Figure type 2 is very similar to type 1. The main differences are that the y-axis uses a percentage scale rather than an absolute one and that all stacked bars are scaled to 100%. Like for figure type 1, three variable names are mandatory: <code>x_var</code> for the x-coordinate, <code>y_var</code> for the y-coordinate and <code>fill_var</code> for the fill variable, which determines the groups to be stacked.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co"># Create test values for all three mandatory variables (x_var, y_var, fill_var)</span></a>
<a class="sourceLine" id="cb5-2" title="2">df_t2_ex1 &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span>(</a>
<a class="sourceLine" id="cb5-3" title="3">   <span class="op">~</span>cohort_term, <span class="op">~</span>status_percentage, <span class="op">~</span>cohort_status, </a>
<a class="sourceLine" id="cb5-4" title="4">   <span class="st">"2. cohort term"</span>, <span class="fl">0.9513551740</span>, <span class="st">"Studying"</span>,</a>
<a class="sourceLine" id="cb5-5" title="5">   <span class="st">"2. cohort term"</span>, <span class="fl">0.0029748098</span>, <span class="st">"Changed subject"</span>,</a>
<a class="sourceLine" id="cb5-6" title="6">   <span class="st">"2. cohort term"</span>, <span class="fl">0.0004673679</span>, <span class="st">"Graduated"</span>,</a>
<a class="sourceLine" id="cb5-7" title="7">   <span class="st">"2. cohort term"</span>, <span class="fl">0.0186648938</span>, <span class="st">"Disenrolled without degree"</span>,</a>
<a class="sourceLine" id="cb5-8" title="8">   <span class="st">"2. cohort term"</span>, <span class="fl">0.0265377545</span>, <span class="st">"Dropped subject"</span>,</a>
<a class="sourceLine" id="cb5-9" title="9">   <span class="st">"4. cohort term"</span>, <span class="fl">0.8896149868</span>, <span class="st">"Studying"</span>,</a>
<a class="sourceLine" id="cb5-10" title="10">   <span class="st">"4. cohort term"</span>, <span class="fl">0.0616919929</span>, <span class="st">"Changed subject"</span>,</a>
<a class="sourceLine" id="cb5-11" title="11">   <span class="st">"4. cohort term"</span>, <span class="fl">0.0016484686</span>, <span class="st">"Graduated"</span>,</a>
<a class="sourceLine" id="cb5-12" title="12">   <span class="st">"4. cohort term"</span>, <span class="fl">0.0201024499</span>, <span class="st">"Disenrolled without degree"</span>,</a>
<a class="sourceLine" id="cb5-13" title="13">   <span class="st">"4. cohort term"</span>, <span class="fl">0.0269421019</span>, <span class="st">"Dropped subject"</span>,</a>
<a class="sourceLine" id="cb5-14" title="14">   <span class="st">"6. cohort term"</span>, <span class="fl">0.7901183540</span>, <span class="st">"Studying"</span>,</a>
<a class="sourceLine" id="cb5-15" title="15">   <span class="st">"6. cohort term"</span>, <span class="fl">0.1502641318</span>, <span class="st">"Changed subject"</span>,</a>
<a class="sourceLine" id="cb5-16" title="16">   <span class="st">"6. cohort term"</span>, <span class="fl">0.0074548056</span>, <span class="st">"Graduated"</span>,</a>
<a class="sourceLine" id="cb5-17" title="17">   <span class="st">"6. cohort term"</span>, <span class="fl">0.0243490259</span>, <span class="st">"Disenrolled without degree"</span>,</a>
<a class="sourceLine" id="cb5-18" title="18">   <span class="st">"6. cohort term"</span>, <span class="fl">0.0278136827</span>, <span class="st">"Dropped subject"</span>,</a>
<a class="sourceLine" id="cb5-19" title="19">   <span class="st">"8. cohort term"</span>, <span class="fl">0.6115873010</span>, <span class="st">"Studying"</span>,</a>
<a class="sourceLine" id="cb5-20" title="20">   <span class="st">"8. cohort term"</span>, <span class="fl">0.2961468339</span>, <span class="st">"Changed subject"</span>,</a>
<a class="sourceLine" id="cb5-21" title="21">   <span class="st">"8. cohort term"</span>, <span class="fl">0.0104080044</span>, <span class="st">"Graduated"</span>,</a>
<a class="sourceLine" id="cb5-22" title="22">   <span class="st">"8. cohort term"</span>, <span class="fl">0.0274549015</span>, <span class="st">"Disenrolled without degree"</span>,</a>
<a class="sourceLine" id="cb5-23" title="23">   <span class="st">"8. cohort term"</span>, <span class="fl">0.0544029593</span>, <span class="st">"Dropped subject"</span>,</a>
<a class="sourceLine" id="cb5-24" title="24">)</a>
<a class="sourceLine" id="cb5-25" title="25"></a>
<a class="sourceLine" id="cb5-26" title="26"><span class="kw"><a href="../reference/rub_plot_type_2.html">rub_plot_type_2</a></span>(</a>
<a class="sourceLine" id="cb5-27" title="27">  <span class="dt">df =</span> df_t2_ex1,</a>
<a class="sourceLine" id="cb5-28" title="28">  <span class="dt">x_var =</span> cohort_term,</a>
<a class="sourceLine" id="cb5-29" title="29">  <span class="dt">y_var =</span> status_percentage,</a>
<a class="sourceLine" id="cb5-30" title="30">  <span class="dt">fill_var =</span> cohort_status</a>
<a class="sourceLine" id="cb5-31" title="31">) </a></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-2-example-1-1.png" width="700"></p>
<p>Now let us say we are unhappy with the default ordering of the stacked bars, because we want the largest cohort group, those still studying, on the bottom. We can use the boolean parameter <code>fill_reverse</code> to do just that. We also provide a discrete facetting variable, <code>facet_var</code>, a text for <code>caption</code> and <code>caption_prefix</code> a lower threshhold for the <code>filter_cutoff</code>, leading to more labels being displayed.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">df_t2_ex2 &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span>(</a>
<a class="sourceLine" id="cb6-2" title="2">   <span class="op">~</span>cohort_term, <span class="op">~</span>status_percentage, <span class="op">~</span>cohort_status, <span class="op">~</span>cohort_label, </a>
<a class="sourceLine" id="cb6-3" title="3">   <span class="st">"2. cohort term"</span>, <span class="fl">0.9513551740</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-4" title="4">   <span class="st">"2. cohort term"</span>, <span class="fl">0.0029748098</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-5" title="5">   <span class="st">"2. cohort term"</span>, <span class="fl">0.0004673679</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-6" title="6">   <span class="st">"2. cohort term"</span>, <span class="fl">0.0186648938</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-7" title="7">   <span class="st">"2. cohort term"</span>, <span class="fl">0.0265377545</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-8" title="8">   <span class="st">"4. cohort term"</span>, <span class="fl">0.8896149868</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-9" title="9">   <span class="st">"4. cohort term"</span>, <span class="fl">0.0616919929</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-10" title="10">   <span class="st">"4. cohort term"</span>, <span class="fl">0.0016484686</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-11" title="11">   <span class="st">"4. cohort term"</span>, <span class="fl">0.0201024499</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-12" title="12">   <span class="st">"4. cohort term"</span>, <span class="fl">0.0269421019</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-13" title="13">   <span class="st">"6. cohort term"</span>, <span class="fl">0.7901183540</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-14" title="14">   <span class="st">"6. cohort term"</span>, <span class="fl">0.1502641318</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-15" title="15">   <span class="st">"6. cohort term"</span>, <span class="fl">0.0074548056</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-16" title="16">   <span class="st">"6. cohort term"</span>, <span class="fl">0.0243490259</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-17" title="17">   <span class="st">"6. cohort term"</span>, <span class="fl">0.0278136827</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-18" title="18">   <span class="st">"8. cohort term"</span>, <span class="fl">0.6115873010</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-19" title="19">   <span class="st">"8. cohort term"</span>, <span class="fl">0.2961468339</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-20" title="20">   <span class="st">"8. cohort term"</span>, <span class="fl">0.0104080044</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-21" title="21">   <span class="st">"8. cohort term"</span>, <span class="fl">0.0274549015</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-22" title="22">   <span class="st">"8. cohort term"</span>, <span class="fl">0.0544029593</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,</a>
<a class="sourceLine" id="cb6-23" title="23">   <span class="st">"2. cohort term"</span>, <span class="fl">0.769899396</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-24" title="24">   <span class="st">"2. cohort term"</span>, <span class="fl">0.173399178</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-25" title="25">   <span class="st">"2. cohort term"</span>, <span class="fl">0.034702328</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-26" title="26">   <span class="st">"2. cohort term"</span>, <span class="fl">0.006062833</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-27" title="27">   <span class="st">"2. cohort term"</span>, <span class="fl">0.015936266</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-28" title="28">   <span class="st">"4. cohort term"</span>, <span class="fl">0.769421630</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-29" title="29">   <span class="st">"4. cohort term"</span>, <span class="fl">0.173700319</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-30" title="30">   <span class="st">"4. cohort term"</span>, <span class="fl">0.034742910</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-31" title="31">   <span class="st">"4. cohort term"</span>, <span class="fl">0.006156721</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-32" title="32">   <span class="st">"4. cohort term"</span>, <span class="fl">0.015978420</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-33" title="33">   <span class="st">"6. cohort term"</span>, <span class="fl">0.667217426</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-34" title="34">   <span class="st">"6. cohort term"</span>, <span class="fl">0.228271544</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-35" title="35">   <span class="st">"6. cohort term"</span>, <span class="fl">0.065634578</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-36" title="36">   <span class="st">"6. cohort term"</span>, <span class="fl">0.010729695</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-37" title="37">   <span class="st">"6. cohort term"</span>, <span class="fl">0.028146757</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-38" title="38">   <span class="st">"8. cohort term"</span>, <span class="fl">0.511075289</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-39" title="39">   <span class="st">"8. cohort term"</span>, <span class="fl">0.353166732</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-40" title="40">   <span class="st">"8. cohort term"</span>, <span class="fl">0.073315208</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-41" title="41">   <span class="st">"8. cohort term"</span>, <span class="fl">0.026374195</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-42" title="42">   <span class="st">"8. cohort term"</span>, <span class="fl">0.036068576</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,</a>
<a class="sourceLine" id="cb6-43" title="43">)</a>
<a class="sourceLine" id="cb6-44" title="44"></a>
<a class="sourceLine" id="cb6-45" title="45"><span class="kw"><a href="../reference/rub_plot_type_2.html">rub_plot_type_2</a></span>(</a>
<a class="sourceLine" id="cb6-46" title="46">  <span class="dt">df =</span> df_t2_ex2,</a>
<a class="sourceLine" id="cb6-47" title="47">  <span class="dt">x_var =</span> cohort_term,</a>
<a class="sourceLine" id="cb6-48" title="48">  <span class="dt">y_var =</span> status_percentage,</a>
<a class="sourceLine" id="cb6-49" title="49">  <span class="dt">fill_var =</span> cohort_status,</a>
<a class="sourceLine" id="cb6-50" title="50">  <span class="dt">fill_reverse =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb6-51" title="51">  <span class="dt">facet_var =</span> cohort_label,</a>
<a class="sourceLine" id="cb6-52" title="52">  <span class="dt">filter_cutoff =</span> <span class="fl">0.03</span>,</a>
<a class="sourceLine" id="cb6-53" title="53">  <span class="dt">caption =</span> <span class="st">"Comparison of two fictitious cohorts"</span>,</a>
<a class="sourceLine" id="cb6-54" title="54">  <span class="dt">caption_prefix =</span> <span class="st">"Source:"</span></a>
<a class="sourceLine" id="cb6-55" title="55">)</a></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-2-example-2-1.png" width="700"></p>
</div>
<div id="figure-type-3---horizontal-stacked-bar-charts-scaled-to-100" class="section level2">
<h2 class="hasAnchor">
<a href="#figure-type-3---horizontal-stacked-bar-charts-scaled-to-100" class="anchor"></a>Figure Type 3 - Horizontal stacked bar charts scaled to 100%</h2>
<p>Figure type 3 is very similar to figure type 2, with the exception that the stacked bar charts are plotted horizontally. As with the first two figure types, three variable names are mandatory: <code>x_var</code> for the x-coordinate, <code>y_var</code> for the y-coordinate and <code>fill_var</code> for the fill variable, which determines the groups to be stacked.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="co"># Create test values for all three mandatory variables (x_var, y_var, fill_var)</span></a>
<a class="sourceLine" id="cb7-2" title="2">df_t3_ex1 &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span>(</a>
<a class="sourceLine" id="cb7-3" title="3">   <span class="op">~</span>survey_group, <span class="op">~</span>item_value, <span class="op">~</span>item_value_percentage,</a>
<a class="sourceLine" id="cb7-4" title="4">   <span class="st">"Bachelor 1-Subject (n=400)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.3070448</span>,</a>
<a class="sourceLine" id="cb7-5" title="5">   <span class="st">"Bachelor 1-Subject (n=400)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.6929552</span>,</a>
<a class="sourceLine" id="cb7-6" title="6">   <span class="st">"SG Bachelor 1-Subject (n=669)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.1122486</span>,</a>
<a class="sourceLine" id="cb7-7" title="7">   <span class="st">"SG Bachelor 1-Subject (n=669)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.8877514</span></a>
<a class="sourceLine" id="cb7-8" title="8">)</a>
<a class="sourceLine" id="cb7-9" title="9"></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="kw"><a href="../reference/rub_plot_type_3.html">rub_plot_type_3</a></span>(</a>
<a class="sourceLine" id="cb7-11" title="11">   <span class="dt">df =</span> df_t3_ex1,</a>
<a class="sourceLine" id="cb7-12" title="12">   <span class="dt">x_var =</span> item_value_percentage,</a>
<a class="sourceLine" id="cb7-13" title="13">   <span class="dt">y_var =</span> survey_group,</a>
<a class="sourceLine" id="cb7-14" title="14">   <span class="dt">fill_var =</span> item_value,</a>
<a class="sourceLine" id="cb7-15" title="15">)</a>
<a class="sourceLine" id="cb7-16" title="16"><span class="co">#&gt; Warning: `expand_scale()` is deprecated; use `expansion()` instead.</span></a></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-3-example-1-1.png" width="700"></p>
<p>The second example once again adds a facetting variable, <code>fill_var</code>, for plotting direct comparisons between groups. We also use <code>caption</code>, <code>caption_prefix</code> and a <code>filter_cutoff</code> that suppresses all values below 20%.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">df_t3_ex2 &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span>(</a>
<a class="sourceLine" id="cb8-2" title="2">   <span class="op">~</span>survey_group, <span class="op">~</span>item_value, <span class="op">~</span>item_value_percentage, <span class="op">~</span>degree,</a>
<a class="sourceLine" id="cb8-3" title="3">   <span class="st">"Bachelor 1-Subject (n=400)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.3070448</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb8-4" title="4">   <span class="st">"Bachelor 1-Subject (n=400)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.6929552</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb8-5" title="5">   <span class="st">"SG Bachelor 1-Subject (n=726)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.1122486</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb8-6" title="6">   <span class="st">"SG Bachelor 1-Subject (n=726)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.8877514</span>, <span class="st">"Bachelor 1-Subject"</span>,</a>
<a class="sourceLine" id="cb8-7" title="7">   <span class="st">"Master 1-Subject (n=369)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.1416009</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb8-8" title="8">   <span class="st">"Master 1-Subject (n=369)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.8583991</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb8-9" title="9">   <span class="st">"SG Master 1-Subject (n=669)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.4417682</span>, <span class="st">"Master 1-Subject"</span>,</a>
<a class="sourceLine" id="cb8-10" title="10">   <span class="st">"SG Master 1-Subject (n=669)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.5582318</span>, <span class="st">"Master 1-Subject"</span></a>
<a class="sourceLine" id="cb8-11" title="11">)</a>
<a class="sourceLine" id="cb8-12" title="12"></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="kw"><a href="../reference/rub_plot_type_3.html">rub_plot_type_3</a></span>(</a>
<a class="sourceLine" id="cb8-14" title="14">   <span class="dt">df =</span> df_t3_ex2,</a>
<a class="sourceLine" id="cb8-15" title="15">   <span class="dt">x_var =</span> item_value_percentage,</a>
<a class="sourceLine" id="cb8-16" title="16">   <span class="dt">y_var =</span> survey_group,</a>
<a class="sourceLine" id="cb8-17" title="17">   <span class="dt">fill_var =</span> item_value,</a>
<a class="sourceLine" id="cb8-18" title="18">   <span class="dt">facet_var =</span> degree,</a>
<a class="sourceLine" id="cb8-19" title="19">   <span class="dt">caption =</span> <span class="st">"Graduate survey 2017/18"</span>,</a>
<a class="sourceLine" id="cb8-20" title="20">   <span class="dt">caption_prefix =</span> <span class="st">"Source:"</span>,</a>
<a class="sourceLine" id="cb8-21" title="21">   <span class="dt">filter_cutoff =</span> <span class="fl">0.20</span></a>
<a class="sourceLine" id="cb8-22" title="22">)</a>
<a class="sourceLine" id="cb8-23" title="23"><span class="co">#&gt; Warning: `expand_scale()` is deprecated; use `expansion()` instead.</span></a></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-3-example-2-1.png" width="700"></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/debug.html">debugonce</a></span>()</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/traceback.html">traceback</a></span>()</a>
<a class="sourceLine" id="cb9-3" title="3"></a>
<a class="sourceLine" id="cb9-4" title="4">devtools<span class="op">::</span><span class="kw"><a href="https://devtools.r-lib.org//reference/load_all.html">load_all</a></span>()</a>
<a class="sourceLine" id="cb9-5" title="5">devtools<span class="op">::</span><span class="kw"><a href="https://devtools.r-lib.org//reference/document.html">document</a></span>()</a></code></pre></div>
</div>
</div>
<div id="for-experienced-ggplot2-users" class="section level1">
<h1 class="hasAnchor">
<a href="#for-experienced-ggplot2-users" class="anchor"></a>For experienced ggplot2 users</h1>
<div id="applying-the-rub-theme" class="section level2">
<h2 class="hasAnchor">
<a href="#applying-the-rub-theme" class="anchor"></a>Applying the RUB Theme</h2>
</div>
<div id="scale-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#scale-functions" class="anchor"></a>Scale Functions</h2>
</div>
</div>
<div id="further-reading" class="section level1">
<h1 class="hasAnchor">
<a href="#further-reading" class="anchor"></a>Further Reading</h1>
<ul>
<li><a href="https://github.com/bbc/bbplot">BBC - bbplot package</a></li>
<li><a href="https://bbc.github.io/rcookbook/">BBC Visual and Data Journalism cookbook for R graphics</a></li>
<li><a href="https://resources.rstudio.com/rstudio-conf-2020/best-practices-for-programming-with-ggplot2-dewey-dunnington">Dewey Dunnington at rstudio::conf 2020 - Best practices for programming with ggplot2</a></li>
<li><a href="https://ggplot2.tidyverse.org/dev/articles/ggplot2-in-packages.html">gglot 2 vignette - Using ggplot2 in packages</a></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#figure-types">Figure Types</a><ul class="nav nav-pills nav-stacked">
<li><a href="#figure-type-1---vertical-stacked-bar-charts">Figure Type 1 - Vertical stacked bar charts</a></li>
      <li><a href="#figure-type-2---vertical-stacked-bar-charts-scaled-to-100">Figure Type 2 - Vertical stacked bar charts scaled to 100%</a></li>
      <li><a href="#figure-type-3---horizontal-stacked-bar-charts-scaled-to-100">Figure Type 3 - Horizontal stacked bar charts scaled to 100%</a></li>
      </ul>
</li>
      <li>
<a href="#for-experienced-ggplot2-users">For experienced ggplot2 users</a><ul class="nav nav-pills nav-stacked">
<li><a href="#applying-the-rub-theme">Applying the RUB Theme</a></li>
      <li><a href="#scale-functions">Scale Functions</a></li>
      </ul>
</li>
      <li><a href="#further-reading">Further Reading</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Richard Meyer-Eppler.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
